<figure class="base-grid">
  <figcaption>
    Six images are optimized for a convex combination of two neurons. Notice how major visual features stay in similar places throughout the examples.
  </figcaption>
  <div class="container">
    <ExampleSelector spriteUrl={{selectorUrl}} spriteWidth={{128}} spriteColumns={{3}} bind:index></ExampleSelector>
    <div class="sprites" style="--steps: {{steps}};">
      <div class="background"></div>
      
      <div class="sprite-row styled-canvas">
        <h4>Unique</h4>
        <spacer/>
        {{#each range(steps) as x}}
          <Sprite :url :width index={{[x, 1]}}></Sprite>
        {{/each}}
      </div>
      
      <div class="sprite-row styled-canvas">
        <h4>Shared</h4>
        <Sprite :url :width index={{[0, 2]}}></Sprite>
      </div>
      
      <div class="sprite-row styled-canvas">
        <h4>Result</h4>
        <spacer/>
        {{#each range(steps) as x}}
          <Sprite :url :width index={{[x, 0]}}></Sprite>
        {{/each}}
      </div>

    </div>
  </div>
</figure>


<style>

figure {
  margin-top: 0;
  margin-bottom: 0;
}

figcaption {
  grid-column: kicker;
}

.container {
  grid-column: text;
  display: grid;
  grid-gap: 10px;
}

.sprites {
  position: relative;
  display: grid;
  grid-gap: inherit;
}

.sprite-row {
  z-index: 1;
  display: grid;
  grid-gap: inherit;
  grid-template-columns: repeat(7, 1fr);
}

.sprite-row > canvas {
  width: 100%;
}

.background {
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: url(images/connection-arrows.svg);
  background-repeat: no-repeat;
  background-position: right;
  background-size: contain;
  z-index: 0
}

</style>


<script>

import { range } from '../util';
import ExampleSelector from '../components/ExampleSelector';
import { Sprite } from 'lucid-components';

export default {
  oncreate() {
  },
  data() {
    return {
      index: 1,
      steps: 5,
      width: 128,
      params: ['result', 'unique', 'shared'],//, 'singular', 'interpolating'],
      selectorUrl: 'images/interpolation-selector-sprite.png',
    }
  },
  computed: {
    url: (index) => `images/interpolation-sprite-0${index}.jpg`,
  },
  components: { 
    ExampleSelector, Sprite,
  },
  helpers: {
    range
  }
  
}

</script>
