<figure class="container">
  
  <div class="sprites" style="--steps: {{steps}};">
    <div class="background"></div>
    
    <div class="sprite-row styled-canvas">
      <p class="figcaption">We start with independently parameterized frames.</p>
      <spacer/>
      {{#each range(steps) as x}}
        <Sprite :url :width index={{[x, 1]}}></Sprite>
      {{/each}}
    </div>
    
    <div class="sprite-row styled-canvas">
      <p class="figcaption">Each frame is then combined with a single, shared parameterization…</p>
      <Sprite :url :width index={{[0, 2]}}></Sprite>
    </div>
    
    <div class="sprite-row styled-canvas">
      <p class="figcaption">…to create a visually aligned neuron interpolation.</p>
      <spacer/>
      {{#each range(steps) as x}}
        <Sprite :url :width index={{[x, 0]}}></Sprite>
      {{/each}}
    </div>

  </div>
  <!-- <ExampleSelector spriteUrl={{selectorUrl}} spriteWidth={{128}} spriteColumns={{3}} bind:index></ExampleSelector> -->
</figure>



<style>

figure {
  padding: 20px 0;
}

h4 {
  margin-top: 0;
  margin-bottom: 0.5em;
}

.container {
  grid-column: text;
  display: grid;
  grid-gap: 10px;
}

.sprites {
  position: relative;
  display: grid;
  grid-gap: inherit;
}

.sprite-row {
  z-index: 1;
  display: grid;
  grid-gap: inherit;
  grid-template-columns: 2fr repeat(6, 1fr);
}

.sprite-row > canvas {
  width: 100%;
}

.background {
  position: absolute;
  width: 88%;
  right: 0;
  height: 100%;
  opacity: 0.67;
  background-image: url(images/connection-arrows.svg);
  background-repeat: no-repeat;
  background-position: right;
  background-size: contain;
  z-index: 0
}

</style>


<script>

import { range } from '../util';
import ExampleSelector from '../components/ExampleSelector';
import { Sprite } from 'lucid-components';

export default {
  oncreate() {
  },
  data() {
    return {
      index: 1,
      steps: 5,
      width: 128,
      params: ['result', 'unique', 'shared'],//, 'singular', 'interpolating'],
      selectorUrl: 'images/interpolation-selector-sprite.png',
    }
  },
  computed: {
    url: (index) => `images/interpolation-sprite-0${index}.jpg`,
  },
  components: { 
    ExampleSelector, Sprite,
  },
  helpers: {
    range
  }
  
}

</script>
